/*! swishCarousel 2014-02-07 */
!function(a){function b(a,b){for(var c=0;a>c;c++)b(c)}function c(a,b){a.addEventListener&&a.addEventListener(e,b,!1)}var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e=d[Modernizr.prefixed("transition")],f={init:function(d){var e=a.extend({},a.fn.swishCarousel.defaults,d);return this.each(function(){var d={};if(d.el=this,d.$el=a(this),d.data=d.$el.data("swishCarousel"),!d.data){d.data={},d.data.options=e,d.data.parent=d.$el.parent(),d.data.parent="auto"==d.data.options.parentElement?d.$el.parent():a(d.data.options.parentElement),d.data.items=d.$el.children(),d.data.length=d.data.items.length,d.data.currentItem=d.data.options.startPosition-1,d.data.lastItem=d.data.options.startPosition-1,d.data.original={},d.data.original.$el=d.$el.clone();var f=function(b){var c;return c="function"==typeof b?b(d):a(-1!==b?b:null)};d.data.$buttonNext=f(d.data.options.buttonNext),d.data.$buttonPrev=f(d.data.options.buttonPrev),d.data.$buttonFirst=f(d.data.options.buttonFirst),d.data.$buttonLast=f(d.data.options.buttonLast),d.data.$buttonPlay=f(d.data.options.buttonPlay),d.data.$buttonPause=f(d.data.options.buttonPause),d.data.$buttonStop=f(d.data.options.buttonStop),d.data.pause=!1,d.$el.data("swishCarousel",d.data)}switch(d.data.options.animation){case"slide":g(d.data.options.responsiveWidth,d);break;case"fade":d.data.items.css({opacity:0,position:"absolute",top:0,left:0,zIndex:1}).eq(d.data.currentItem).css({opacity:1,zIndex:2}),d.$el.height(d.data.items.height());break;case"loop":if(d.data.items.length>0){if(d.data.loopSets=0,d.data.loopOrigLength=d.data.items.length,d.data.loopMinimum=0,d.data.items.each(function(b,c){a(c).attr("data-swish-index",b)}),d.data.loopInView=Math.round(d.data.parent.width()/d.data.items.outerWidth(!0)),d.data.items.length>d.data.loopInView)b(d.data.loopInView,function(a){d.$el.append(d.data.items.eq(a).clone().data("swish-loop-set",1))}),d.data.length<d.data.loopInView&&(b(d.data.loopInView,function(a){d.$el.append(d.data.items.eq(a).clone().data("swish-loop-set",2))}),d.data.loopSets=1);else{d.data.loopMin=d.data.loopInView+d.data.items.length;var h=0;b(d.data.loopMin,function(){d.data.items.eq(h).clone().data("swish-loop-set",d.data.loopSets+1).appendTo(d.$el),h<d.data.items.length-1?h+=1:h=0})}d.data.items=d.$el.children(),d.data.lengthOrig=d.data.length,d.data.length=d.data.items.length,d.$el.width(d.data.length*d.data.items.outerWidth(!0)),d.$el.css({left:-((d.data.options.startPosition-1)*d.data.items.outerWidth(!0))})}break;case"sequence":d.data.items.children().addClass("animate-out"),d.data.items.eq(d.data.options.startPosition-1).children().addClass("animate-in").removeClass("animate-out")}if(d.$el.addClass("swishCarousel"),Modernizr.csstransitions){var i="all "+d.data.options.animSpeed/1e3+"s "+d.data.options.css3easing,j={"-webkit-transition":i,"-moz-transition":i,"-o-transition":i,transition:i};switch(d.data.options.animation){case"slide":d.$el.css(j);break;case"fade":d.data.items.css(j)}c(d.el,d.data.options.funcEndAnimation)}if(d.data.options.pager){if("function"==typeof d.data.options.pagerElement?d.data.$pager=d.data.options.pagerElement(d):-1!==d.data.options.pagerElement&&(d.data.$pager=a(d.data.options.pagerElement)),d.data.options.pagerAuto){var k;d.data.$pager.each(function(){k=this.tagName}),"UL"!==k&&"OL"!==k&&(d.data.$pager.append("<ol></ol>"),d.data.$pager=a("ol",d.data.$pager)),d.data.items.each(function(a){d.data.$pager.append("<li>"+(a+1)+"</li>")})}d.data.$pager.each(function(){var b=a(this),c=b.find("li");c.each(function(b,c){a(c).data("pagerIndex",b)}).on("click.swishCarousel",function(){d.$el.swishCarousel("goTo",a(this).data("pagerIndex")).swishCarousel(d.data.options.onAction)})}),d.data.$pagerItems=d.data.$pager.find("li"),a("a",d.data.$pager).on("click.swishCarousel",function(a){a.preventDefault()}),d.data.$pagerItems.eq(d.data.options.startPosition-1).addClass("pagerActive").siblings().removeClass("active")}if(d.data.options.timer&&(d.data.$timer=a('<div class="timer"><div class="inner"></div></div>'),d.$el.after(d.data.$timer)),d.data.options.autoStart&&d.data.items.length>d.data.options.step&&(d.data.options.timer&&a(".inner",d.data.$timer).stop().css({width:"auto"}).animate({width:0},d.data.options.delay,"linear"),d.data.carouselTimer=setInterval(function(){d.$el.swishCarousel("goTo","next"),d.data.options.timer&&a(".inner",d.data.$timer).stop().css({width:"auto"}).animate({width:0},d.data.options.delay,"linear")},d.data.options.delay)),d.data.$buttonPause.on("click.swishCarousel",function(a){a.preventDefault(),d.$el.swishCarousel("pause")}),d.data.$buttonPlay.on("click.swishCarousel",function(a){a.preventDefault(),d.$el.swishCarousel("play")}),d.data.$buttonStop.on("click.swishCarousel",function(a){a.preventDefault(),d.$el.swishCarousel("stop")}),d.data.$buttonFirst.on("click.swishCarousel",function(a){a.preventDefault(),d.$el.swishCarousel("goTo","first").swishCarousel(d.data.options.onAction)}),d.data.$buttonPrev.on("click.swishCarousel",function(a){a.preventDefault(),d.$el.swishCarousel("goTo","previous").swishCarousel(d.data.options.onAction)}),d.data.$buttonNext.on("click.swishCarousel",function(a){a.preventDefault(),d.$el.swishCarousel("goTo","next").swishCarousel(d.data.options.onAction)}),d.data.$buttonLast.on("click.swishCarousel",function(a){a.preventDefault(),d.$el.swishCarousel("goTo","last").swishCarousel(d.data.options.onAction)}),(d.data.length<=d.data.options.startPosition||d.data.length<=d.data.options.step)&&(d.data.$buttonNext.addClass("hidden"),d.data.$buttonPrev.addClass("hidden")),d.data.options.poll&&(d.data.poll=setInterval(function(){d.data.length=d.$el.children().length},d.data.options.pollTimer)),d.data.options.responsive){switch(d.data.responsiveFunction=function(){},d.data.options.animation){case"slide":d.data.responsiveFunction=function(){g(d.data.options.responsiveWidth,d),d.$el.css({left:-(d.data.currentItem*d.data.items.outerWidth(!0))})};break;case"fade":d.data.responsiveFunction=function(){d.$el.height(d.data.items.height())};break;case"loop":d.data.responsiveFunction=function(){d.data.items.width(Math.floor(d.data.parent.width()*(d.data.options.responsiveWidth/100))),d.$el.width(d.data.items.length*d.data.items.width()),d.$el.css({left:-(d.data.currentItem*d.data.items.width())})}}d.data.responsiveFunction(),a(window).resize(d.data.responsiveFunction)}if(d.data.options.useTouch&&document.addEventListener){var l,m,n,o,p=!1,q=!1,r=null,s=5,t=d.data.items.width()/100*s;d.el.addEventListener("touchstart",function(a){d.$el.addClass("carousel-touch").swishCarousel("stop"),m=a.touches.item(0).clientX,n=a.touches.item(0).clientY,l=0,o=parseInt(d.el.style.left,10),0===d.data.currentItem?q=!0:d.data.currentItem+1===d.data.items.length&&(p=!0),a.stopPropagation()},!1),d.el.addEventListener("touchmove",function(a){var b=a.changedTouches[0];l=a.touches[0].pageX-m,null===r&&(r=r||Math.abs(l)<Math.abs(a.touches[0].pageY-n)),r||(a.preventDefault(),d.$el.css({left:o+(b.clientX-m)})),a.stopPropagation()},!1),d.el.addEventListener("touchend",function(a){var b=a.changedTouches[0].clientX-m;r||(-t>b&&!p?d.$el.swishCarousel("goTo","next").swishCarousel(d.data.options.onAction):b>t&&!q?d.$el.swishCarousel("goTo","previous").swishCarousel(d.data.options.onAction):d.$el.css({left:o})),q=!1,p=!1,r=null,d.$el.removeClass("carousel-touch"),a.stopPropagation()},!1)}d.$el.data("swishCarousel",d.data)})},goTo:function(b){return this.each(function(){var c,d,e=a.fn.swishCarousel.setupData(this),f=null,g="none";if("string"==typeof b)switch(f=b,b){case"first":b=e.data.options.startPosition-1;break;case"last":b=e.data.length-e.data.options.step;break;case"next":e.data.currentItem=e.data.currentItem+e.data.options.step,(e.data.currentItem===e.data.items.length||e.data.currentItem>e.data.items.length)&&(e.data.currentItem=e.data.options.startPosition-1),e.data.items.length-e.data.currentItem<e.data.options.step&&(e.data.currentItem=e.data.currentItem-(e.data.options.step-(e.data.items.length-e.data.currentItem))),b=e.data.currentItem,g="next";break;case"previous":e.data.currentItem=e.data.currentItem-e.data.options.step,e.data.currentItem<e.data.options.startPosition-e.data.options.step?(e.data.length%e.data.options.step<e.data.options.step&&(e.data.currentItem=e.data.length-e.data.options.step),e.data.currentItem=e.data.length-e.data.options.step):e.data.currentItem<e.data.options.startPosition&&(e.data.currentItem=e.data.options.startPosition-1),b=e.data.currentItem,g="previous";break;default:a.error("Invalid argument passed to swishCarousel('goTo')")}if(isNaN(b))a.error("swishCarousel | Trying to move to a non integer index.");else{switch(c=e.data.items.eq(b),d=e.data.items.eq(e.data.lastItem),e.data.options.animation){case"slide":Modernizr.csstransitions?e.$el.css({left:-(b*e.data.items.outerWidth(!0))}):e.$el.stop().animate({left:-(b*e.data.items.outerWidth(!0))},e.data.options.animSpeed,e.data.options.funcEndAnimation);break;case"fade":Modernizr.csstransitions?c.css({opacity:1,zIndex:2}).siblings().css({opacity:0,zIndex:1}):c.animate({opacity:1,zIndex:2},e.data.options.animSpeed).siblings().animate({opacity:0,zIndex:1},e.data.options.animSpeed,e.data.options.funcEndAnimation);break;case"loop":"next"===g||b>e.data.lastItem&&e.data.lastItem!==e.data.options.startPosition-1?b==e.data.items.length-e.data.lengthOrig*e.data.loopSets-e.data.loopInView+1+e.data.loopSets*(e.data.loopInView-e.data.lengthOrig)&&(b=e.data.options.startPosition-1,e.$el.stop().css({left:-(b*e.data.items.outerWidth(!0))}),b+=e.data.options.step,c=e.data.items.eq(b)):("previous"===g||b<e.data.lastItem)&&b+1===e.data.items.length&&(b=e.data.lengthOrig<e.data.loopInView?b-e.data.lengthOrig*(1+e.data.loopSets)+1:b-e.data.loopInView+1,e.$el.stop().css({left:-(b*e.data.items.outerWidth(!0))}),b-=e.data.options.startPosition,c=e.data.items.eq(b)),e.$el.stop().animate({left:-(b*e.data.items.outerWidth(!0))},e.data.options.animSpeed,e.data.options.funcEndAnimation);break;case"sequence":d.children().addClass("animate-out").removeClass("animate-in"),c.addClass("next-item").children().addClass("animate-in").removeClass("animate-out"),setTimeout(function(){c.removeClass("next-item")},e.data.options.sequenceDelay)}c.addClass("active").siblings().removeClass("active"),e.data.options.pager&&e.data.$pagerItems.eq(b).addClass("pagerActive").siblings().removeClass("pagerActive"),e.data.lastItem=e.data.currentItem}e.data.currentItem=b,e.$el.data("swishCarousel",e.data),e=null,f=null,c=null,d=null})},pause:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);clearInterval(b.data.carouselTimer),b.data.options.timer&&a(".inner",b.data.$timer).stop(),b.data.pause=!0})},play:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);b.data.pause&&(b.data.carouselTimer=setTimeout(function(){b.data.options.timer&&a(".inner",b.data.$timer).stop().css({width:"auto"}).animate({width:0},b.data.options.delay,"linear"),b.$el.data("swishCarousel",b.data),b.$el.swishCarousel("goTo","next"),b.data=b.$el.data("swishCarousel"),b.data.carouselTimer=setInterval(function(){b.data.options.timer&&a(".inner",b.data.$timer).stop().css({width:"auto"}).animate({width:0},b.data.options.delay,"linear"),b.$el.swishCarousel("goTo","next")},b.data.options.delay)},b.data.pauseTime),b.data.options.timer&&a(".inner",b.data.$timer).animate({width:0},b.data.pauseTime,"linear"),b.data.pause=!1)})},stop:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);clearInterval(b.data.carouselTimer),b.data.options.timer&&a(".inner",b.data.$timer).stop().css({width:"auto"}),b.data.pauseTime=b.data.options.delay,b.data.pause=!0})},expose:function(){var b=a.fn.swishCarousel.setupData(this),c=function(a){this.base=a,this.goTo=function(a){a&&this.base.$el.swishCarousel("goTo",a)},this.pause=function(){this.base.$el.swishCarousel("pause")},this.play=function(){this.base.$el.swishCarousel("play")},this.stop=function(){this.base.$el.swishCarousel("stop")},this.destroy=function(){this.base.$el.swishCarousel("destroy")}};return new c(b)},destroy:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);b.$el.swishCarousel("stop"),b.data.$buttonNext.off("click.swishCarousel"),b.data.$buttonPrev.off("click.swishCarousel"),b.data.$buttonFirst.off("click.swishCarousel"),b.data.$buttonLast.off("click.swishCarousel"),b.data.$buttonPlay.off("click.swishCarousel"),b.data.$buttonPause.off("click.swishCarousel"),b.data.$buttonStop.off("click.swishCarousel"),clearInterval(b.data.carouselTimer),b.$el.parent().html(b.data.original.$el),b.$el.data("swishCarousel",null),b=null})}};a.fn.swishCarousel=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.tooltip"):f.init.apply(this,arguments)},a.fn.swishCarousel.defaults={animation:"slide",animSpeed:300,autoSetup:!1,autoStart:!0,buttons:!0,buttonNext:-1,buttonPrev:-1,buttonFirst:-1,buttonLast:-1,buttonPlay:-1,buttonPause:-1,buttonStop:-1,delay:5e3,easing:"linear",css3easing:"ease",focusFix:!0,funcEndAnimation:function(){},interrupt:!0,onAction:"stop",pager:!1,pagerAuto:!1,pagerElement:".pager",parentElement:"auto",poll:!1,pollTimer:500,responsive:!0,responsiveWidth:100,sequenceDelay:500,startPosition:1,step:1,timer:!1,useTouch:!0},a.fn.swishCarousel.setupData=function(b){var c={el:b,$el:a(b)};return c.data=c.$el.data("swishCarousel"),c.data||a.error("swishCarousel | Calling a none initialiser method on an object without an initialised plugin."),c};var g=function(a,b){var c=1/b.data.items.length*100+"%",d=b.data.items.length/a*100;b.data.items.css({width:c}),b.$el.width(d+"%")}}(jQuery);