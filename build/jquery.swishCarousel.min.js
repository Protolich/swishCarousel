/*! swishCarousel 2014-02-11 */
!function(a){function b(a,b){for(var c=0;a>c;c++)b(c)}function c(a,b){d&&a.addEventListener(f,b,!1)}var d=!1;window.addEventListener&&(d=!0);var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},f=e[Modernizr.prefixed("transition")],g=Modernizr.prefixed("transform"),h={init:function(e){var f=a.extend({},a.fn.swishCarousel.defaults,e);return this.each(function(){var e={};if(e.el=this,e.$el=a(this),e.data=e.$el.data("swishCarousel"),!e.data){e.data={},e.data.options=f,e.data.parent=e.$el.parent(),e.data.parent="auto"==e.data.options.parentElement?e.$el.parent():a(e.data.options.parentElement),e.data.items=e.$el.children(),e.data.items.addClass("carousel-item"),e.data.length=e.data.items.length,e.data.currentItem=e.data.options.startPosition-1,e.data.lastItem=e.data.options.startPosition-1,e.data.original={},e.data.original.$el=e.$el.clone();var h=function(b){var c;return c="function"==typeof b?b(e):a(-1!==b?b:null)};e.data.$buttonNext=h(e.data.options.buttonNext),e.data.$buttonPrev=h(e.data.options.buttonPrev),e.data.$buttonFirst=h(e.data.options.buttonFirst),e.data.$buttonLast=h(e.data.options.buttonLast),e.data.$buttonPlay=h(e.data.options.buttonPlay),e.data.$buttonPause=h(e.data.options.buttonPause),e.data.$buttonStop=h(e.data.options.buttonStop),e.data.pause=!1,e.$el.data("swishCarousel",e.data)}switch(e.data.options.animation){case"slide":i(e.data.options.responsiveWidth,e);break;case"fade":e.data.items.css({opacity:0,position:"absolute",top:0,left:0,zIndex:1}).eq(e.data.currentItem).css({opacity:1,zIndex:2}),e.$el.height(e.data.items.height());break;case"loop":if(i(e.data.options.responsiveWidth,e),e.data.items.length>0){if(e.data.loopSets=0,e.data.loopOrigLength=e.data.items.length,e.data.loopMinimum=0,e.data.items.each(function(b,c){a(c).attr("data-swish-index",b)}),e.data.loopInView=Math.round(e.data.parent.width()/e.data.items.outerWidth(!0)),e.data.items.length>e.data.loopInView)b(e.data.loopInView,function(a){e.$el.append(e.data.items.eq(a).clone().data("swish-loop-set",1))}),e.data.length<e.data.loopInView&&(b(e.data.loopInView,function(a){e.$el.append(e.data.items.eq(a).clone().data("swish-loop-set",2))}),e.data.loopSets=1);else{e.data.loopMin=e.data.loopInView+e.data.items.length;var j=0;b(e.data.loopMin,function(){e.data.items.eq(j).clone().data("swish-loop-set",e.data.loopSets+1).appendTo(e.$el),j<e.data.items.length-1?j+=1:j=0})}e.data.items=e.$el.children(),e.data.lengthOrig=e.data.length,e.data.length=e.data.items.length,e.$el.width(e.data.length*e.data.items.outerWidth(!0)),Modernizr.csstransforms?e.el.style[g]="translateX("+-((e.data.options.startPosition-1)*e.data.items.outerWidth(!0))+"px)":e.$el.css({left:-((e.data.options.startPosition-1)*e.data.items.outerWidth(!0))})}break;case"sequence":e.data.items.children().addClass("animate-out"),e.data.items.eq(e.data.options.startPosition-1).children().addClass("animate-in").removeClass("animate-out")}if(e.$el.addClass("swishCarousel"),Modernizr.csstransitions&&(e.$el.addClass("transition-"+e.data.options.animation),c(e.el,e.data.options.funcEndAnimation)),e.data.options.pager){if("function"==typeof e.data.options.pagerElement?e.data.$pager=e.data.options.pagerElement(e):-1!==e.data.options.pagerElement&&(e.data.$pager=a(e.data.options.pagerElement)),e.data.options.pagerAuto){var k;e.data.$pager.each(function(){k=this.tagName}),"UL"!==k&&"OL"!==k&&(e.data.$pager.append("<ol></ol>"),e.data.$pager=a("ol",e.data.$pager)),e.data.items.each(function(a){e.data.$pager.append("<li>"+(a+1)+"</li>")})}e.data.$pager.each(function(){var b=a(this),c=b.find("li");c.each(function(b,c){a(c).data("pagerIndex",b)}).on("click.swishCarousel",function(){e.$el.swishCarousel("goTo",a(this).data("pagerIndex")).swishCarousel(e.data.options.onAction)})}),e.data.$pagerItems=e.data.$pager.find("li"),e.data.$pager.find("a").on("click.swishCarousel",function(a){a.preventDefault()}),e.data.$pagerItems.eq(e.data.options.startPosition-1).addClass("pagerActive").siblings().removeClass("active")}if(e.data.options.timer&&(e.data.$timer=a('<div class="timer"><div class="inner"></div></div>'),e.$el.after(e.data.$timer)),e.data.options.autoStart&&e.data.items.length>e.data.options.step&&(e.data.options.timer&&a(".inner",e.data.$timer).stop().css({width:"auto"}).animate({width:0},e.data.options.delay,"linear"),e.data.carouselTimer=setInterval(function(){e.$el.swishCarousel("goTo","next"),e.data.options.timer&&a(".inner",e.data.$timer).stop().css({width:"auto"}).animate({width:0},e.data.options.delay,"linear")},e.data.options.delay)),e.data.$buttonPause.on("click.swishCarousel",function(a){a.preventDefault(),e.$el.swishCarousel("pause")}),e.data.$buttonPlay.on("click.swishCarousel",function(a){a.preventDefault(),e.$el.swishCarousel("play")}),e.data.$buttonStop.on("click.swishCarousel",function(a){a.preventDefault(),e.$el.swishCarousel("stop")}),e.data.$buttonFirst.on("click.swishCarousel",function(a){a.preventDefault(),e.$el.swishCarousel("goTo","first").swishCarousel(e.data.options.onAction)}),e.data.$buttonPrev.on("click.swishCarousel",function(a){a.preventDefault(),e.$el.swishCarousel("goTo","previous").swishCarousel(e.data.options.onAction)}),e.data.$buttonNext.on("click.swishCarousel",function(a){a.preventDefault(),e.$el.swishCarousel("goTo","next").swishCarousel(e.data.options.onAction)}),e.data.$buttonLast.on("click.swishCarousel",function(a){a.preventDefault(),e.$el.swishCarousel("goTo","last").swishCarousel(e.data.options.onAction)}),(e.data.length<=e.data.options.startPosition||e.data.length<=e.data.options.step)&&(e.data.$buttonNext.addClass("hidden"),e.data.$buttonPrev.addClass("hidden")),e.data.options.poll&&(e.data.poll=setInterval(function(){e.data.length=e.$el.children().length},e.data.options.pollTimer)),e.data.options.responsive){switch(e.data.responsiveFunction=function(){},e.data.options.animation){case"slide":e.data.responsiveFunction=function(){i(e.data.options.responsiveWidth,e),e.$el.css({left:-(e.data.currentItem*e.data.items.outerWidth(!0))})};break;case"fade":e.data.responsiveFunction=function(){e.$el.height(e.data.items.height())};break;case"loop":e.data.responsiveFunction=function(){i(e.data.options.responsiveWidth,e),e.$el.css({left:-(e.data.currentItem*e.data.items.width())})}}e.data.responsiveFunction(),a(window).resize(e.data.responsiveFunction)}if(e.data.options.useTouch&&d){var l,m,n,o,p=!1,q=!1,r=null,s=5,t=e.data.items.width()/100*s;e.el.addEventListener("touchstart",function(a){e.$el.addClass("carousel-touch").swishCarousel("stop"),m=a.touches.item(0).clientX,n=a.touches.item(0).clientY,l=0,o=parseInt(e.el.style.left,10),0===e.data.currentItem?q=!0:e.data.currentItem+1===e.data.items.length&&(p=!0),a.stopPropagation()},!1),e.el.addEventListener("touchmove",function(a){var b=a.changedTouches[0];l=a.touches[0].pageX-m,null===r&&(r=r||Math.abs(l)<Math.abs(a.touches[0].pageY-n)),r||(a.preventDefault(),e.$el.css({left:o+(b.clientX-m)})),a.stopPropagation()},!1),e.el.addEventListener("touchend",function(a){var b=a.changedTouches[0].clientX-m;r||(-t>b&&!p?e.$el.swishCarousel("goTo","next").swishCarousel(e.data.options.onAction):b>t&&!q?e.$el.swishCarousel("goTo","previous").swishCarousel(e.data.options.onAction):e.$el.css({left:o})),q=!1,p=!1,r=null,e.$el.removeClass("carousel-touch"),a.stopPropagation()},!1)}e.$el.data("swishCarousel",e.data)})},goTo:function(b){return this.each(function(){var c,d,e=a.fn.swishCarousel.setupData(this),f=null,h="none";if("string"==typeof b)switch(f=b,b){case"first":b=e.data.options.startPosition-1;break;case"last":b=e.data.length-e.data.options.step;break;case"next":e.data.currentItem=e.data.currentItem+e.data.options.step,(e.data.currentItem===e.data.items.length||e.data.currentItem>e.data.items.length)&&(e.data.currentItem=e.data.options.startPosition-1),e.data.items.length-e.data.currentItem<e.data.options.step&&(e.data.currentItem=e.data.currentItem-(e.data.options.step-(e.data.items.length-e.data.currentItem))),b=e.data.currentItem,h="next";break;case"previous":e.data.currentItem=e.data.currentItem-e.data.options.step,e.data.currentItem<e.data.options.startPosition-e.data.options.step?(e.data.length%e.data.options.step<e.data.options.step&&(e.data.currentItem=e.data.length-e.data.options.step),e.data.currentItem=e.data.length-e.data.options.step):e.data.currentItem<e.data.options.startPosition&&(e.data.currentItem=e.data.options.startPosition-1),b=e.data.currentItem,h="previous";break;default:a.error("Invalid argument passed to swishCarousel('goTo')")}if(isNaN(b))a.error("swishCarousel | Trying to move to a non integer index.");else{switch(c=e.data.items.eq(b),d=e.data.items.eq(e.data.lastItem),e.data.options.animation){case"slide":Modernizr.csstransitions?Modernizr.csstransforms?e.el.style[g]="translateX("+-(b*e.data.items.outerWidth(!0))+"px)":e.el.style.left=-(b*e.data.items.outerWidth(!0)):e.$el.stop().animate({left:-(b*e.data.items.outerWidth(!0))},e.data.options.animSpeed,e.data.options.funcEndAnimation);break;case"fade":Modernizr.csstransitions?c.css({opacity:1,zIndex:2}).siblings().css({opacity:0,zIndex:1}):c.animate({opacity:1,zIndex:2},e.data.options.animSpeed).siblings().animate({opacity:0,zIndex:1},e.data.options.animSpeed,e.data.options.funcEndAnimation);break;case"loop":"next"===h||b>e.data.lastItem&&e.data.lastItem!==e.data.options.startPosition-1?b==e.data.items.length-e.data.lengthOrig*e.data.loopSets-e.data.loopInView+1+e.data.loopSets*(e.data.loopInView-e.data.lengthOrig)&&(b=e.data.options.startPosition-1,e.$el.removeClass("transition-"+e.data.options.animation),e.el.style[g]="translateX("+-(b*e.data.items.outerWidth(!0))+"px)",b+=e.data.options.step,c=e.data.items.eq(b)):("previous"===h||b<e.data.lastItem)&&b+1===e.data.items.length&&(b=e.data.lengthOrig<e.data.loopInView?b-e.data.lengthOrig*(1+e.data.loopSets)+1:b-e.data.loopInView+1,e.$el.removeClass("transition-"+e.data.options.animation),e.el.style[g]="translateX("+-(b*e.data.items.outerWidth(!0))+"px)",b-=e.data.options.startPosition,c=e.data.items.eq(b)),e.el.style[g]="translateX("+-(b*e.data.items.outerWidth(!0))+"px)";break;case"sequence":d.children().addClass("animate-out").removeClass("animate-in"),c.addClass("next-item").children().addClass("animate-in").removeClass("animate-out"),setTimeout(function(){c.removeClass("next-item")},e.data.options.sequenceDelay)}c.addClass("active").siblings().removeClass("active"),e.data.options.pager&&e.data.$pagerItems.eq(b).addClass("pagerActive").siblings().removeClass("pagerActive"),e.data.lastItem=e.data.currentItem}e.data.currentItem=b,e.$el.data("swishCarousel",e.data),e=null,f=null,c=null,d=null})},pause:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);clearInterval(b.data.carouselTimer),b.data.options.timer&&a(".inner",b.data.$timer).stop(),b.data.pause=!0})},play:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);b.data.pause&&(b.data.carouselTimer=setTimeout(function(){b.data.options.timer&&a(".inner",b.data.$timer).stop().css({width:"auto"}).animate({width:0},b.data.options.delay,"linear"),b.$el.data("swishCarousel",b.data),b.$el.swishCarousel("goTo","next"),b.data=b.$el.data("swishCarousel"),b.data.carouselTimer=setInterval(function(){b.data.options.timer&&a(".inner",b.data.$timer).stop().css({width:"auto"}).animate({width:0},b.data.options.delay,"linear"),b.$el.swishCarousel("goTo","next")},b.data.options.delay)},b.data.pauseTime),b.data.options.timer&&a(".inner",b.data.$timer).animate({width:0},b.data.pauseTime,"linear"),b.data.pause=!1)})},stop:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);clearInterval(b.data.carouselTimer),b.data.options.timer&&a(".inner",b.data.$timer).stop().css({width:"auto"}),b.data.pauseTime=b.data.options.delay,b.data.pause=!0})},expose:function(){var b=a.fn.swishCarousel.setupData(this),c=function(a){this.base=a,this.goTo=function(a){a&&this.base.$el.swishCarousel("goTo",a)},this.pause=function(){this.base.$el.swishCarousel("pause")},this.play=function(){this.base.$el.swishCarousel("play")},this.stop=function(){this.base.$el.swishCarousel("stop")},this.destroy=function(){this.base.$el.swishCarousel("destroy")}};return new c(b)},destroy:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);b.$el.swishCarousel("stop"),b.data.$buttonNext.off("click.swishCarousel"),b.data.$buttonPrev.off("click.swishCarousel"),b.data.$buttonFirst.off("click.swishCarousel"),b.data.$buttonLast.off("click.swishCarousel"),b.data.$buttonPlay.off("click.swishCarousel"),b.data.$buttonPause.off("click.swishCarousel"),b.data.$buttonStop.off("click.swishCarousel"),clearInterval(b.data.carouselTimer),b.$el.parent().html(b.data.original.$el),b.$el.data("swishCarousel",null),b=null})}};a.fn.swishCarousel=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.swishCarousel"):h.init.apply(this,arguments)},a.fn.swishCarousel.defaults={animation:"slide",animSpeed:300,autoSetup:!1,autoStart:!0,buttons:!0,buttonNext:-1,buttonPrev:-1,buttonFirst:-1,buttonLast:-1,buttonPlay:-1,buttonPause:-1,buttonStop:-1,delay:5e3,easing:"linear",css3easing:"ease",focusFix:!0,funcEndAnimation:function(){},interrupt:!0,onAction:"stop",pager:!1,pagerAuto:!1,pagerElement:".pager",parentElement:"auto",poll:!1,pollTimer:500,responsive:!0,responsiveWidth:1,sequenceDelay:500,startPosition:1,step:1,timer:!1,useTouch:!0},a.fn.swishCarousel.setupData=function(b){var c={el:b,$el:a(b)};return c.data=c.$el.data("swishCarousel"),c.data||a.error("swishCarousel | Calling a none initialiser method on an object without an initialised plugin."),c};var i=function(a,b){"breakpoint";var c=1/b.data.items.length*100+"%",d=b.data.items.length/a*100;b.data.items.css({width:c}),b.$el.width(d+"%")}}(jQuery);