if(!Window.Modernizr)var Modernizr={};Modernizr.csstransitions=false;(function(a){function c(a,b){a.$el.data("swishCarousel",a.data);a.$el.swishCarousel("goTo",b);a.data=a.$el.data("swishCarousel");return a.data}var b={init:function(b){var c=a.extend({},a.fn.swishCarousel.defaults,b);return this.each(function(){var b={};b.el=this;b.$el=a(this);b.data=b.$el.data("swishCarousel");if(!b.data){b.data={};b.data.options=c;b.data.parent=b.$el.parent();b.data.items=b.$el.children();b.data.length=b.data.items.length;b.data.currentItem=b.data.options.startPosition-1;b.data.buttons=[];if(typeof b.data.options.buttonNext==="function")b.data.$buttonNext=b.data.options.buttonNext(b);else if(b.data.options.buttonNext!==-1)b.data.$buttonNext=a(b.data.options.buttonNext);if(typeof b.data.options.buttonPrev==="function")b.data.$buttonPrev=b.data.options.buttonPrev(b);else if(b.data.options.buttonPrev!==-1)b.data.$buttonPrev=a(b.data.options.buttonPrev);if(typeof b.data.options.buttonFirst==="function")b.data.$buttonFirst=b.data.options.buttonFirst(b);else if(b.data.options.buttonFirst!==-1)b.data.$buttonFirst=a(b.data.options.buttonFirst);if(typeof b.data.options.buttonLast==="function")b.data.$buttonLast=b.data.options.buttonLast(b);else if(b.data.options.buttonLast!==-1)b.data.$buttonLast=a(b.data.options.buttonLast);if(typeof b.data.options.buttonPlay==="function")b.data.$buttonPlay=b.data.options.buttonPlay(b);else if(b.data.options.buttonPlay!==-1)b.data.$buttonPlay=a(b.data.options.buttonPlay);if(typeof b.data.options.buttonPause==="function")b.data.$buttonPause=b.data.options.buttonPause(b);else if(b.data.options.buttonPause!==-1)b.data.$buttonPause=a(b.data.options.buttonPause);if(typeof b.data.options.buttonStop==="function")b.data.$buttonStop=b.data.options.buttonStop(b);else if(b.data.options.buttonStop!==-1)b.data.$buttonStop=a(b.data.options.buttonStop);b.data.pause=false;b.$el.data("swishCarousel",b.data)}switch(b.data.options.animation){case"slide":b.$el.width(b.data.length*b.data.items.width());break;case"fade":b.data.items.css({opacity:0,position:"absolute",top:0,left:0,zIndex:1}).eq(b.data.currentItem).css({opacity:1,zIndex:2});break}if(Modernizr.csstransitions){var d="all "+b.data.options.animSpeed/1e3+"s "+b.data.options.css3easing,e={"-webkit-transition":d,"-moz-transition":d,"-o-transition":d,transition:d};switch(b.data.options.animation){case"slide":b.$el.css(e);break;case"fade":b.data.items.css(e);break}}if(b.data.options.pager){if(typeof b.data.options.pagerElement==="function")b.data.$pager=b.data.options.pagerElement(b);else if(b.data.options.pagerElement!==-1)b.data.$pager=a(b.data.options.pagerElement);if(b.data.options.pagerAuto){var f;b.data.$pager.each(function(){f=this.tagName});if(f!=="UL"&&f!=="OL"){b.data.$pager.append("<ol></ol>");b.data.$pager=a("ol",b.data.$pager)}b.data.items.each(function(a,c){b.data.$pager.append("<li>"+(a+1)+"</li>")})}b.data.$pagerItems=a("li",b.data.$pager);b.data.$pagerItems.each(function(b,c){a(c).data("pagerIndex",b)}).click(function(){b.$el.swishCarousel("goTo",a(this).data("pagerIndex")).swishCarousel(b.data.options.onAction)});a("a",b.data.$pager).click(function(a){a.preventDefault()})}if(b.data.options.timer){b.data.$timer=a('<div class="timer"><div class="inner"></div></div>');b.$el.after(b.data.$timer)}b.$el.css({left:0});if(b.data.options.autoStart){if(b.data.options.timer)a(".inner",b.data.$timer).stop().css({width:"auto"}).animate({width:0},b.data.options.delay,"linear");b.data.carouselTimer=setInterval(function(){b.$el.swishCarousel("goTo","next");if(b.data.options.timer)a(".inner",b.data.$timer).stop().css({width:"auto"}).animate({width:0},b.data.options.delay,"linear")},b.data.options.delay)}a(b.data.options.buttonPause).bind("click.swishCarousel",function(a){a.preventDefault();b.$el.swishCarousel("pause")});a(b.data.options.buttonPlay).bind("click.swishCarousel",function(a){a.preventDefault();b.$el.swishCarousel("play")});a(b.data.options.buttonStop).bind("click.swishCarousel",function(a){a.preventDefault();b.$el.swishCarousel("stop")});a(b.data.options.buttonFirst).bind("click.swishCarousel",function(a){a.preventDefault();b.$el.swishCarousel("goTo","first").swishCarousel(b.data.options.onAction)});a(b.data.options.buttonPrev).bind("click.swishCarousel",function(a){a.preventDefault();b.$el.swishCarousel("goTo","previous").swishCarousel(b.data.options.onAction)});a(b.data.options.buttonNext).bind("click.swishCarousel",function(a){a.preventDefault();b.$el.swishCarousel("goTo","next").swishCarousel(b.data.options.onAction)});a(b.data.options.buttonLast).bind("click.swishCarousel",function(a){a.preventDefault();b.$el.swishCarousel("goTo","last").swishCarousel(b.data.options.onAction)});if(b.data.options.poll){b.data.poll=setInterval(function(){b.data.length=b.$el.children().length},b.data.options.pollTimer)}if(b.data.options.responsive){b.data.responsiveFunction=function(){};switch(b.data.options.animation){case"slide":b.data.responsiveFunction=function(){b.data.items.width(b.data.parent.width());b.$el.width(b.data.length*b.data.items.width());b.$el.css({left:-(b.data.currentItem*b.data.items.width())})};break;case"fade":b.data.responsiveFunction=function(){b.$el.height(b.data.items.height())};break}a(window).resize(b.data.responsiveFunction)}a(window).blur(function(){b.$el.swishCarousel("pause")}).focus(function(){b.$el.swishCarousel("play")});b.$el.data("swishCarousel",b.data)})},goTo:function(b){return this.each(function(){var c=a.fn.swishCarousel.setupData(this);if(_.isString(b)){switch(b){case"first":b=c.data.options.startPosition-1;break;case"last":b=c.data.length-c.data.options.step;break;case"next":c.data.currentItem=c.data.currentItem+c.data.options.step;if(c.data.currentItem===c.data.items.length||c.data.currentItem>c.data.items.length)c.data.currentItem=c.data.options.startPosition-1;if(c.data.items.length-c.data.currentItem<c.data.options.step)c.data.currentItem=c.data.currentItem-(c.data.options.step-(c.data.items.length-c.data.currentItem));b=c.data.currentItem;break;case"previous":c.data.currentItem=c.data.currentItem-c.data.options.step;if(c.data.currentItem<c.data.options.startPosition-1)c.data.currentItem=c.data.length-1;b=c.data.currentItem;break;default:a.error("Invalid argument passed to swishCarousel('goTo')")}}if(_.isNumber(b)){switch(c.data.options.animation){case"slide":if(Modernizr.csstransitions)c.$el.css({left:-(b*c.data.items.width())});else c.$el.stop().animate({left:-(b*c.data.items.width())},c.data.options.animSpeed);break;case"fade":if(Modernizr.csstransitions)c.data.items.filter(":eq("+b+")").css({opacity:1}).siblings().css({opacity:0});else c.data.items.filter(":eq("+b+")").animate({opacity:1},c.data.options.animSpeed).siblings().animate({opacity:0},c.data.options.animSpeed);break}c.data.items.eq(b).addClass("active").siblings().removeClass("active")}c.data.currentItem=b;c.$el.data("swishCarousel",c.data)})},pause:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);clearInterval(b.data.carouselTimer);if(b.data.options.timer)a(".inner",b.data.$timer).stop();b.data.pauseTime=a(".inner",b.data.$timer).width()/b.data.$timer.width()*b.data.options.delay;b.data.pause=true})},play:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);if(b.data.pause){b.data.carouselTimer=setTimeout(function(){if(b.data.options.timer)a(".inner",b.data.$timer).stop().css({width:"auto"}).animate({width:0},b.data.options.delay,"linear");b.$el.data("swishCarousel",b.data);b.$el.swishCarousel("goTo","next");b.data=b.$el.data("swishCarousel");b.data.carouselTimer=setInterval(function(){if(b.data.options.timer)a(".inner",b.data.$timer).stop().css({width:"auto"}).animate({width:0},b.data.options.delay,"linear");b.$el.swishCarousel("goTo","next")},b.data.options.delay)},b.data.pauseTime);if(b.data.options.timer)a(".inner",b.data.$timer).animate({width:0},b.data.pauseTime,"linear");b.data.pause=false}})},stop:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);clearInterval(b.data.carouselTimer);if(b.data.options.timer)a(".inner",b.data.$timer).stop().css({width:"auto"});b.data.pauseTime=b.data.options.delay;b.data.pause=true})},destroy:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this);b.$el.swishCarousel("stop")})},test:function(){return this.each(function(){var b=a.fn.swishCarousel.setupData(this)})}};a.fn.swishCarousel=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}};a.fn.swishCarousel.defaults={animation:"slide",animSpeed:300,autoSetup:false,autoStart:true,buttons:true,buttonNext:-1,buttonPrev:-1,buttonFirst:-1,buttonLast:-1,buttonPlay:-1,buttonPause:-1,buttonStop:-1,delay:5e3,easing:"linear",css3easing:"linear",interrupt:true,onAction:"play",pager:false,pagerAuto:false,pagerElement:".pager",poll:false,pollTimer:500,responsive:true,startPosition:1,step:1,timer:false};a.fn.swishCarousel.test=function(a){return this;console.log("!")};a.fn.swishCarousel.setupData=function(b){var c={el:b,$el:a(b)};c.data=c.$el.data("swishCarousel");if(!c.data)a.error("swishCarousel | Calling a none initialiser method on an object without an initialised plugin.");return c}})(jQuery)